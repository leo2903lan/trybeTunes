(this.webpackJsonptrybetunes=this.webpackJsonptrybetunes||[]).push([[0],{32:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),i=(a(32),a(16)),o=a(17),u=a(20),l=a(19),j=a(5),b=a(11),d=a(4),m=a(2),f=a.n(m),O=a(7),p=a(3),x=a(13),h="user",v=function(e){return localStorage.setItem(h,JSON.stringify(e))},N=function(e){return function(t){setTimeout((function(){t(e)}),1500)}},g=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(h));null===t&&(t={}),N(t)(e)}))},k=function(e){return new Promise((function(t){v(Object(j.a)(Object(j.a)({},{name:"",email:"",image:"",description:""}),e)),N("OK")(t)}))},S=a(0);var w=function(){return Object(S.jsx)("div",{className:"loading",children:"Carregando..."})},I=(a(35),a.p+"static/media/logo_header.806a1a7d.svg");var y=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(p.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t.name),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(S.jsxs)("header",{className:"header","data-testid":"header-component",children:[Object(S.jsxs)("div",{className:"header-superior",children:[Object(S.jsx)("img",{className:"logo-header",src:I,alt:"logo trybe tunes com fone verde"}),i&&Object(S.jsx)(w,{}),Object(S.jsxs)("span",{className:"user-name-box","data-testid":"header-user-name",children:[Object(S.jsx)(x.a,{className:"user-icon",icon:"bxs:user-circle"}),a]})]}),Object(S.jsxs)("div",{className:"header-inferior",children:[Object(S.jsx)(b.b,{className:"link","data-testid":"link-to-search",to:"/search",children:"Pesquisa"}),Object(S.jsx)(b.b,{className:"link","data-testid":"link-to-favorites",to:"/favorites",children:"Favoritos"}),Object(S.jsx)(b.b,{className:"link","data-testid":"link-to-profile",to:"/profile",children:"Perfil"})]})]})},P=function(){var e=Object(O.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=(a(44),a(27)),C="favorite_songs";JSON.parse(localStorage.getItem(C))||localStorage.setItem(C,JSON.stringify([]));var D=function(){return JSON.parse(localStorage.getItem(C))},E=function(e){return localStorage.setItem(C,JSON.stringify(e))},U=function(e){return function(t){setTimeout((function(){t(e)}),500)}},T=function(){return new Promise((function(e){var t=D();U(t)(e)}))},q=function(e){return new Promise((function(t){if(e){var a=D();E([].concat(Object(J.a)(a),[e]))}U("OK")(t)}))},F=function(e){return new Promise((function(t){var a=D();E(a.filter((function(t){return t.trackId!==e.trackId}))),U("OK")(t)}))};var L=function(e){var t=e.musicList,a=Object(n.useState)(!1),c=Object(p.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),o=Object(p.a)(i,2),u=o[0],l=o[1],j=function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,T();case 3:t=e.sent,l(t),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var b=function(){var e=Object(O.a)(f.a.mark((function e(a){var n,c,r,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),n=t.slice(1).filter((function(e){return e.trackId===+a.target.value})),c=Object(p.a)(n,1),r=c[0],u.find((function(e){return e.trackId===r.trackId}))){e.next=12;break}return e.next=6,q(r);case 6:return e.next=8,T();case 8:i=e.sent,l(i),e.next=16;break;case 12:return e.next=14,F(r);case 14:o=u.filter((function(e){return e.trackId!==r.trackId})),l(o);case 16:s(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("ul",{className:"list-music",children:[t.slice(1).map((function(e){return Object(S.jsxs)("li",{className:"li-music ",children:[Object(S.jsx)("img",{className:"cd-hidden",src:e.artworkUrl100,alt:"capa do cp redonda"}),Object(S.jsx)("p",{className:"music-name",children:e.trackName}),Object(S.jsxs)("audio",{className:"audio","data-testid":"audio-component",src:e.previewUrl,controls:!0,children:[Object(S.jsx)("track",{kind:"captions"}),"O seu navegador n\xe3o suporta o elemento",Object(S.jsx)("code",{children:"audio"}),"."]}),Object(S.jsxs)("label",{className:"label-favorita",htmlFor:e.trackId,children:["Favorita",Object(S.jsx)("input",{className:"input-favorita","data-testid":"checkbox-music-".concat(e.trackId),type:"checkbox",id:e.trackId,value:e.trackId,onChange:b,checked:u.some((function(t){return t.trackId===e.trackId}))}),Object(S.jsx)(x.a,{className:"heart",icon:"ant-design:heart-twotone"})]})]},e.trackId)})),r&&Object(S.jsx)(w,{})]})};a(45);var A=function(e){var t=e.match.params.id,a=Object(n.useState)([]),c=Object(p.a)(a,2),r=c[0],s=c[1],i=function(){var e=Object(O.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(S.jsxs)("div",{className:"box-principal","data-testid":"page-album",children:[Object(S.jsx)(y,{}),0===r.length?Object(S.jsx)(w,{}):Object(S.jsxs)("main",{className:"main-album",children:[Object(S.jsxs)("div",{className:"box-cd",children:[Object(S.jsx)("img",{className:"cd-capa",src:r[0].artworkUrl100,alt:"capa do cd"}),Object(S.jsx)("p",{className:"album-name","data-testid":"album-name",children:r[0].collectionName}),Object(S.jsx)("p",{className:"artis-name","data-testid":"artist-name",children:r[0].artistName})]}),Object(S.jsx)(L,{musicList:r})]})]})};a(46);var K=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(p.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c(!0),u(),c(!1)}),[i]),Object(S.jsxs)("div",{"data-testid":"page-favorites",children:[Object(S.jsx)(y,{}),a&&Object(S.jsx)(w,{}),Object(S.jsx)(L,{musicList:i})]})};var _=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(p.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)(""),l=Object(p.a)(u,2),j=l[0],b=l[1],m=Object(n.useState)(!1),x=Object(p.a)(m,2),h=x[0],v=x[1],N=Object(n.useState)(!1),g=Object(p.a)(N,2),I=g[0],y=g[1],P=function(){var e=Object(O.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.next=4,k({name:a});case 4:y(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I?Object(S.jsx)(d.a,{to:"/search"}):Object(S.jsxs)("form",{className:"form-login",onSubmit:P,children:[Object(S.jsx)("input",{className:"name-input","data-testid":"login-name-input",type:"text",placeholder:"Digite seu nome",onChange:function(e){e.preventDefault();var t=e.target.value;c(t),t.length>2?(o(!1),b("")):(b("Nome tem que ser maior que 3 caracteres"),o(!0))},value:a}),Object(S.jsx)("p",{className:"alert",children:j}),Object(S.jsx)("button",{className:"button-login","data-testid":"login-submit-button",type:"submit",disabled:i,children:"Entrar"}),h&&Object(S.jsx)(w,{})]})},R=a.p+"static/media/LOGO_POSITIVA1.99baff09.svg";a(47);var B=function(){return Object(S.jsxs)("div",{className:"div-login","data-testid":"page-login",children:[Object(S.jsx)("img",{className:"logo",src:R,alt:"logo trybe tunes"}),Object(S.jsx)(_,{})]})};var G=function(){return Object(S.jsx)("div",{"data-testid":"page-not-found",children:"NotFound"})};var M=function(){return Object(S.jsxs)("div",{"data-testid":"page-profile",children:[Object(S.jsx)(y,{}),"Profile"]})};var V=function(){return Object(S.jsxs)("div",{"data-testid":"page-profile-edit",children:[Object(S.jsx)(y,{}),"ProfileEdit"]})},z=function(){var e=Object(O.a)(f.a.mark((function e(t){var a,n,c,r,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=encodeURI(t).replaceAll("%20","+"),n="https://itunes.apple.com/search?entity=album&term=".concat(a,"&attribute=allArtistTerm"),e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,s=r.results,i=s.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount}})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a(48);var H=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(p.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)([]),l=Object(p.a)(u,2),j=l[0],d=l[1],m=Object(n.useState)(!0),h=Object(p.a)(m,2),v=h[0],N=h[1],g=Object(n.useState)(!1),k=Object(p.a)(g,2),w=k[0],I=k[1],P=Object(n.useState)(""),J=Object(p.a)(P,2),C=J[0],D=J[1],E=function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!1),e.next=4,z(a);case 4:n=e.sent,c(""),I(!0),d(n),N(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:"box-principal","data-testid":"page-search",children:[Object(S.jsx)(y,{}),Object(S.jsxs)("main",{className:"main",children:[v&&Object(S.jsxs)("form",{className:"search-form-box",onSubmit:E,children:[Object(S.jsxs)("div",{className:"search-input-box",children:[Object(S.jsx)("input",{className:"search-artist-input","data-testid":"search-artist-input",type:"text",value:a,onChange:function(e){var t=e.target.value;I(!1),c(t),D(t),t.length>=2?o(!1):o(!0)},placeholder:"Digite banda ou artista"}),Object(S.jsx)(x.a,{icon:"fa:search"})]}),Object(S.jsx)("button",{className:"search-artist-button","data-testid":"search-artist-button",type:"submit",disabled:i,children:"Pesquisar"})]}),w&&Object(S.jsx)("span",{className:"artist-result",children:"Resultado de \xe1lbuns de: ".concat(C)}),Object(S.jsx)("ul",{className:"artist-box",children:j.map((function(e){return Object(S.jsx)("li",{className:"album-box",children:Object(S.jsxs)(b.b,{className:"album-box-link ","data-testid":"link-to-album-".concat(e.collectionId),to:"/album/".concat(e.collectionId),children:[Object(S.jsx)("img",{className:"img-box",src:e.artworkUrl100,alt:"capa do cd"}),Object(S.jsx)("p",{className:"cd-collection",children:e.collectionName}),Object(S.jsx)("p",{className:"artist-name",children:e.artistName})]})},e.collectionId)}))}),0===j.length&&Object(S.jsx)("p",{className:"not-album",children:"Nenhum \xe1lbum foi encontrado"})]})]})};var Q=function(){return Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{path:"/trybeTunes",component:B}),Object(S.jsx)(d.b,{path:"/search",component:H}),Object(S.jsx)(d.b,{path:"/favorites",component:K}),Object(S.jsx)(d.b,{path:"/profile/edit",component:V}),Object(S.jsx)(d.b,{path:"/profile",component:M}),Object(S.jsx)(d.b,{path:"/album/:id",render:function(e){return Object(S.jsx)(A,Object(j.a)({},e))}}),Object(S.jsx)(d.b,{path:"",component:G})]})})},W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(S.jsx)(Q,{})}}]),a}(c.a.Component);s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(W,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.08927a46.chunk.js.map