(this.webpackJsonptrybetunes=this.webpackJsonptrybetunes||[]).push([[0],{32:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),s=a.n(r),i=(a(32),a(16)),o=a(17),u=a(20),l=a(19),j=a(6),b=a(9),d=a(4),m=a(3),p=a.n(m),f=a(5),O=a(2),x=a(12),h="user",v=function(e){return localStorage.setItem(h,JSON.stringify(e))},g=function(e){return function(t){setTimeout((function(){t(e)}),1500)}},N=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(h));null===t&&(t={}),g(t)(e)}))},k=function(e){return new Promise((function(t){v(Object(j.a)(Object(j.a)({},{name:"",email:"",image:"",description:""}),e)),g("OK")(t)}))},S=function(e){return new Promise((function(t){v(Object(j.a)({},e)),g("OK")(t)}))},w=a(0);var y=function(){return Object(w.jsx)("div",{className:"loading",children:"Carregando..."})},I=(a(35),a.p+"static/media/logo_header.806a1a7d.svg");var D=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(O.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,c(t.name),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(w.jsxs)("header",{className:"header","data-testid":"header-component",children:[Object(w.jsxs)("div",{className:"header-superior",children:[Object(w.jsx)("img",{className:"logo-header",src:I,alt:"logo trybe tunes com fone verde"}),i&&Object(w.jsx)(y,{}),Object(w.jsxs)("span",{className:"user-name-box","data-testid":"header-user-name",children:[Object(w.jsx)(x.a,{className:"user-icon",icon:"bxs:user-circle"}),a]})]}),Object(w.jsxs)("div",{className:"header-inferior",children:[Object(w.jsx)(b.b,{className:"link","data-testid":"link-to-search",to:"/search",children:"Pesquisa"}),Object(w.jsx)(b.b,{className:"link","data-testid":"link-to-favorites",to:"/favorites",children:"Favoritos"}),Object(w.jsx)(b.b,{className:"link","data-testid":"link-to-profile",to:"/profile",children:"Perfil"})]})]})},P=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(a(44),a(27)),C="favorite_songs";JSON.parse(localStorage.getItem(C))||localStorage.setItem(C,JSON.stringify([]));var F=function(){return JSON.parse(localStorage.getItem(C))},J=function(e){return localStorage.setItem(C,JSON.stringify(e))},U=function(e){return function(t){setTimeout((function(){t(e)}),500)}},T=function(){return new Promise((function(e){var t=F();U(t)(e)}))},q=function(e){return new Promise((function(t){if(e){var a=F();J([].concat(Object(E.a)(a),[e]))}U("OK")(t)}))},K=function(e){return new Promise((function(t){var a=F();J(a.filter((function(t){return t.trackId!==e.trackId}))),U("OK")(t)}))};var L=function(e){var t=e.musicList,a=Object(n.useState)(!1),c=Object(O.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),o=Object(O.a)(i,2),u=o[0],l=o[1],j=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,T();case 3:t=e.sent,l(t),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var b=function(){var e=Object(f.a)(p.a.mark((function e(a){var n,c,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),n=t.slice(1).filter((function(e){return e.trackId===+a.target.value})),c=Object(O.a)(n,1),r=c[0],u.find((function(e){return e.trackId===r.trackId}))){e.next=12;break}return e.next=6,q(r);case 6:return e.next=8,T();case 8:i=e.sent,l(i),e.next=16;break;case 12:return e.next=14,K(r);case 14:o=u.filter((function(e){return e.trackId!==r.trackId})),l(o);case 16:s(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("ul",{className:"list-music",children:[t.slice(1).map((function(e){return Object(w.jsxs)("li",{className:"li-music ",children:[Object(w.jsx)("img",{className:"cd-hidden",src:e.artworkUrl100,alt:"capa do cp redonda"}),Object(w.jsx)("p",{className:"music-name",children:e.trackName}),Object(w.jsxs)("audio",{className:"audio","data-testid":"audio-component",src:e.previewUrl,controls:!0,children:[Object(w.jsx)("track",{kind:"captions"}),"O seu navegador n\xe3o suporta o elemento",Object(w.jsx)("code",{children:"audio"}),"."]}),Object(w.jsxs)("label",{className:"label-favorita",htmlFor:e.trackId,children:["Favorita",Object(w.jsx)("input",{className:"input-favorita","data-testid":"checkbox-music-".concat(e.trackId),type:"checkbox",id:e.trackId,value:e.trackId,onChange:b,checked:u.some((function(t){return t.trackId===e.trackId}))}),Object(w.jsx)(x.a,{className:"heart",icon:"ant-design:heart-twotone"})]})]},e.trackId)})),r&&Object(w.jsx)(y,{})]})};a(45);var A=function(e){var t=e.match.params.id,a=Object(n.useState)([]),c=Object(O.a)(a,2),r=c[0],s=c[1],i=function(){var e=Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(w.jsxs)("div",{className:"box-principal","data-testid":"page-album",children:[Object(w.jsx)(D,{}),0===r.length?Object(w.jsx)(y,{}):Object(w.jsxs)("main",{className:"main-album",children:[Object(w.jsxs)("div",{className:"box-cd",children:[Object(w.jsx)("img",{className:"cd-capa",src:r[0].artworkUrl100,alt:"capa do cd"}),Object(w.jsx)("p",{className:"album-name","data-testid":"album-name",children:r[0].collectionName}),Object(w.jsx)("p",{className:"artis-name","data-testid":"artist-name",children:r[0].artistName})]}),Object(w.jsx)(L,{musicList:r})]})]})};a(46);var _=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(O.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c(!0),u(),c(!1)}),[i]),Object(w.jsxs)("div",{"data-testid":"page-favorites",children:[Object(w.jsx)(D,{}),a&&Object(w.jsx)(y,{}),Object(w.jsx)(L,{musicList:i})]})};var R=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(O.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)(""),l=Object(O.a)(u,2),j=l[0],b=l[1],m=Object(n.useState)(!1),x=Object(O.a)(m,2),h=x[0],v=x[1],g=Object(n.useState)(!1),N=Object(O.a)(g,2),S=N[0],I=N[1],D=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.next=4,k({name:a});case 4:I(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return S?Object(w.jsx)(d.a,{to:"/search"}):Object(w.jsxs)("form",{className:"form-login",onSubmit:D,children:[Object(w.jsx)("input",{className:"name-input","data-testid":"login-name-input",type:"text",placeholder:"Digite seu nome",onChange:function(e){e.preventDefault();var t=e.target.value;c(t),t.length>2?(o(!1),b("")):(b("Nome tem que ser maior que 3 caracteres"),o(!0))},value:a}),Object(w.jsx)("p",{className:"alert",children:j}),Object(w.jsx)("button",{className:"button-login","data-testid":"login-submit-button",type:"submit",disabled:i,children:"Entrar"}),h&&Object(w.jsx)(y,{})]})},B=a.p+"static/media/LOGO_POSITIVA1.99baff09.svg";a(47);var G=function(){return Object(w.jsxs)("div",{className:"div-login","data-testid":"page-login",children:[Object(w.jsx)("img",{className:"logo",src:B,alt:"logo trybe tunes"}),Object(w.jsx)(R,{})]})};var M=function(){return Object(w.jsx)("div",{"data-testid":"page-not-found",children:"NotFound"})};a(48);var V=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),s=Object(O.a)(r,2),i=s[0],o=s[1],u=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,N();case 3:t=e.sent,o(t),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(w.jsxs)("div",{className:"box-principal-profile","data-testid":"page-profile",children:[Object(w.jsx)(D,{}),a?Object(w.jsx)(y,{}):Object(w.jsxs)("section",{className:"box-profile",children:[Object(w.jsxs)("div",{className:"box-image",children:[""===i.image?Object(w.jsx)(x.a,{className:"profile-image",icon:"healthicons:ui-user-profile-negative"}):Object(w.jsx)("img",{className:"profile-image","data-testid":"profile-image",src:i.image,alt:"imagem do usu\xe1rio"}),Object(w.jsx)(b.b,{to:"/profile/edit",children:Object(w.jsx)("button",{type:"button",className:"button-profile",children:"Editar Perfil"})})]}),Object(w.jsxs)("div",{className:"details",children:[Object(w.jsx)("p",{className:"user-name",children:"Nome: ".concat(i.name)}),Object(w.jsx)("p",{className:"user-email",children:"Email: ".concat(i.email)}),Object(w.jsx)("p",{className:"user-description",children:"Sobre: ".concat(i.description)})]})]})]})};a(49);var z=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)(""),l=Object(O.a)(u,2),j=l[0],b=l[1],m=Object(n.useState)(""),x=Object(O.a)(m,2),h=x[0],v=x[1],g=Object(n.useState)(!1),N=Object(O.a)(g,2),k=N[0],y=N[1],I=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.next=4,S({name:a,email:i,image:h,description:j});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?Object(w.jsx)(d.a,{to:"/profile"}):Object(w.jsxs)("div",{"data-testid":"page-profile-edit",children:[Object(w.jsx)(D,{}),Object(w.jsxs)("form",{className:"box-profile-edit",onSubmit:I,children:[Object(w.jsxs)("label",{htmlFor:"name",children:["Nome:",Object(w.jsx)("input",{"data-testid":"edit-input-name",type:"text",id:"name",name:"Name",value:a,onChange:function(e){e.preventDefault(),c(e.target.value)}})]}),Object(w.jsxs)("label",{htmlFor:"email",children:["Email:",Object(w.jsx)("input",{"data-testid":"edit-input-email",type:"email",id:"email",name:"Email",value:i,onChange:function(e){e.preventDefault(),o(e.target.value)}})]}),Object(w.jsxs)("label",{htmlFor:"description",children:["Decri\xe7\xe3o:",Object(w.jsx)("textarea",{"data-testid":"edit-input-description",id:"description",name:"Description",value:j,onChange:function(e){e.preventDefault(),b(e.target.value)}})]}),Object(w.jsxs)("label",{htmlFor:"foto",children:["Foto de perfil:",Object(w.jsx)("input",{placeholder:"Digite o endere\xe7o da imagem",type:"text",name:"Foto",id:"foto",value:h,onChange:function(e){e.preventDefault(),v(e.target.value)}})]}),Object(w.jsx)("button",{type:"submit",children:"Editar"})]})]})},H=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,c,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=encodeURI(t).replaceAll("%20","+"),n="https://itunes.apple.com/search?entity=album&term=".concat(a,"&attribute=allArtistTerm"),e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,s=r.results,i=s.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount}})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a(50);var Q=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(O.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)([]),l=Object(O.a)(u,2),j=l[0],d=l[1],m=Object(n.useState)(!0),h=Object(O.a)(m,2),v=h[0],g=h[1],N=Object(n.useState)(!1),k=Object(O.a)(N,2),S=k[0],y=k[1],I=Object(n.useState)(""),P=Object(O.a)(I,2),E=P[0],C=P[1],F=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!1),e.next=4,H(a);case 4:n=e.sent,c(""),y(!0),d(n),g(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"box-principal","data-testid":"page-search",children:[Object(w.jsx)(D,{}),Object(w.jsxs)("main",{className:"main",children:[v&&Object(w.jsxs)("form",{className:"search-form-box",onSubmit:F,children:[Object(w.jsxs)("div",{className:"search-input-box",children:[Object(w.jsx)("input",{className:"search-artist-input","data-testid":"search-artist-input",type:"text",value:a,onChange:function(e){var t=e.target.value;y(!1),c(t),C(t),t.length>=2?o(!1):o(!0)},placeholder:"Digite banda ou artista"}),Object(w.jsx)(x.a,{icon:"fa:search"})]}),Object(w.jsx)("button",{className:"search-artist-button","data-testid":"search-artist-button",type:"submit",disabled:i,children:"Pesquisar"})]}),S&&Object(w.jsx)("p",{className:"artist-result",children:"Resultado de \xe1lbuns de: ".concat(E)}),Object(w.jsx)("ul",{className:"artist-box",children:j.map((function(e){return Object(w.jsx)("li",{className:"album-box",children:Object(w.jsxs)(b.b,{className:"album-box-link ","data-testid":"link-to-album-".concat(e.collectionId),to:"/album/".concat(e.collectionId),children:[Object(w.jsx)("img",{className:"img-box",src:e.artworkUrl100,alt:"capa do cd"}),Object(w.jsx)("p",{className:"cd-collection",children:e.collectionName}),Object(w.jsx)("p",{className:"artist-name",children:e.artistName})]})},e.collectionId)}))}),0===j.length&&Object(w.jsx)("p",{className:"not-album",children:"Nenhum \xe1lbum foi encontrado"})]})]})};var W=function(){return Object(w.jsx)(b.a,{children:Object(w.jsxs)(d.d,{children:[Object(w.jsx)(d.b,{path:"/trybeTunes",component:G}),Object(w.jsx)(d.b,{path:"/search",component:Q}),Object(w.jsx)(d.b,{path:"/favorites",component:_}),Object(w.jsx)(d.b,{path:"/profile/edit",component:z}),Object(w.jsx)(d.b,{path:"/profile",component:V}),Object(w.jsx)(d.b,{path:"/album/:id",render:function(e){return Object(w.jsx)(A,Object(j.a)({},e))}}),Object(w.jsx)(d.b,{component:M})]})})},X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(w.jsx)(W,{})}}]),a}(c.a.Component);s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(X,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.0d4f92ea.chunk.js.map